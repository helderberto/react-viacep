{"version":3,"sources":["components/atoms/Alert/index.js","components/atoms/Button/index.js","components/atoms/Input/index.js","components/atoms/Map/map.svg","components/atoms/Map/index.js","components/molecules/Location/index.js","utils/zipcode.js","hooks/use-location.js","services/viacep/index.js","components/molecules/Form/index.js","components/organisms/AddressResults/index.js","App.js","index.js"],"names":["AlertValidation","props","children","Button","defaultProps","type","CustomInput","className","this","Component","Map","src","MapSvg","alt","Location","Object","keys","location","map","key","index","toUpperCase","Zipcode","size","isValid","value","test","crop","start","end","substring","hasHyphen","hyphen","indexOf","mask","zipcodeStart","length","zipcodeEnd","maskedZipcode","BASE_URL","cep","ViaCep","Error","url","fetch","method","then","res","json","catch","err","console","error","Form","alertValidation","locationResult","buttonClear","useState","zipcode","setZipcode","setLocation","invalidZipcode","setStatusZipcode","useLocation","clearResults","handleBlur","updateLocation","updateZipcode","onClick","onSubmit","event","preventDefault","getByCep","response","onBlur","onChange","target","placeholder","maxLength","name","AddressResults","height","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.acd02eb4.chunk.js","sourcesContent":["import React from 'react';\nimport './index.css';\n\nconst AlertValidation = (props) => {\n  return (\n    <div {...props}>\n      {props.children}\n    </div>\n  )\n}\n\nexport default AlertValidation;","import React from 'react';\nimport './index.css';\n\nconst Button = (props) => {\n  return (\n    <button {...props}>\n      {props.children}\n    </button>\n  );\n}\n\nButton.defaultProps = {\n  type: 'button'\n};\n\nexport default Button;","import React, { Component } from 'react';\nimport './index.css'\n\nclass CustomInput extends Component {\n  render() {\n    return(\n      <div className=\"form__group\">\n        <input {...this.props} className=\"form__field\" />\n      </div>\n    );\n  }\n}\n\nCustomInput.defaultProps = {\n  type: 'text'\n};\n\nexport default CustomInput;","export default __webpack_public_path__ + \"static/media/map.69228c7a.svg\";","import React from \"react\";\nimport MapSvg from \"./map.svg\";\nimport \"./index.css\";\n\nconst Map = props => {\n  return (\n    <img\n      className=\"map__location\"\n      src={MapSvg}\n      alt=\"Mapa de localização\"\n      {...props}\n    />\n  );\n};\n\nexport default Map;\n","import React from 'react';\nimport './index.css';\n\nconst Location = (props) => {\n  return (\n    <div className=\"location\">\n      {Object.keys(props.location).map((key, index) => {\n        return <div className=\"location__item\" key={index}><strong>{key.toUpperCase()}:</strong>{props.location[key]}</div>\n      })}\n    </div>\n  )\n}\n\nexport default Location;","const ZIPCODE_SIZE = 8;\n\nexport default class Zipcode {\n  static size = ZIPCODE_SIZE;\n\n  static isValid = value => (/^[0-9]{8}$/.test(value));\n\n  static crop = (value, start, end) => {\n    return value.substring(start, end);\n  }\n\n  static hasHyphen = (value, hyphen = '-') => {\n    return (value.indexOf(hyphen) === -1 ? false : true);\n  }\n\n  static mask = (value, hyphen = '-') => {\n    const zipcodeStart = Zipcode.crop(value, 0, value.length-3);\n    const zipcodeEnd = Zipcode.crop(value, value.length-3, value.length);\n\n    let maskedZipcode = value;\n\n    if (!Zipcode.hasHyphen(value)) {\n      maskedZipcode = `${zipcodeStart}${hyphen}${zipcodeEnd}`;\n    }\n    return maskedZipcode;\n  }\n}\n","import { useState } from \"react\";\n\nimport Zipcode from \"../utils/zipcode\";\n\nexport default () => {\n  const [zipcode, setZipcode] = useState(\"\");\n  const [location, setLocation] = useState(\"\");\n  const [invalidZipcode, setStatusZipcode] = useState(false);\n\n  const clearResults = () => {\n    setLocation(\"\");\n    setZipcode(\"\");\n    setStatusZipcode(false);\n  };\n\n  const handleBlur = () => {\n    if (zipcode.length < Zipcode.size) {\n      setStatusZipcode(true);\n      return;\n    }\n\n    if (zipcode.length >= Zipcode.size && !Zipcode.isValid(zipcode)) {\n      const maskedZipcode = Zipcode.mask(zipcode);\n      setZipcode(maskedZipcode);\n      setStatusZipcode(false);\n    }\n  };\n\n  const updateLocation = ({ location, invalidZipcode }) => {\n    setLocation(location);\n    setStatusZipcode(invalidZipcode);\n  };\n\n  const updateZipcode = ({ zipcode }) => setZipcode(zipcode);\n\n  return [\n    zipcode,\n    location,\n    invalidZipcode,\n    clearResults,\n    handleBlur,\n    updateLocation,\n    updateZipcode,\n  ];\n};\n","import Zipcode from \"../../utils/zipcode\";\n\nconst BASE_URL = (cep) => `https://viacep.com.br/ws/${cep}/json/`;\n\nclass ViaCep {\n  static async getByCep(cep) {\n    if (!Zipcode.isValid(cep)) {\n      throw Error(\"CEP inválido!\");\n    }\n\n    const url = BASE_URL(cep);\n\n    return fetch(url, {\n      method: \"GET\",\n    })\n      .then((res) => res.json())\n      .catch((err) => {\n        console.error(err);\n        throw new Error(\n          \"Não foi possível encontrar o endereço. Por favor, tente novamente utilizando outro CEP.\",\n        );\n      });\n  }\n}\n\nexport default ViaCep;\n","import useLocation from \"../../../hooks/use-location\";\nimport { Input, Button, Alert } from \"../../atoms\";\nimport { Location } from \"../../molecules\";\nimport Zipcode from \"../../../utils/zipcode\";\nimport ViaCep from \"../../../services/viacep\";\n\nimport \"./index.css\";\n\nconst Form = (props) => {\n  const [\n    zipcode,\n    location,\n    invalidZipcode,\n    clearResults,\n    handleBlur,\n    updateLocation,\n    updateZipcode,\n  ] = useLocation();\n\n  const onFormSubmit = (event) => {\n    event.preventDefault();\n\n    if (Zipcode.isValid(zipcode)) {\n      ViaCep.getByCep(zipcode).then((response) => {\n        if (Object.keys(response).length > 1) {\n          updateLocation({\n            location: response,\n            invalidZipcode: false,\n          });\n          return;\n        }\n        updateLocation({\n          location: \"\",\n          invalidZipcode: true,\n        });\n        return;\n      });\n    } else {\n      updateLocation({\n        location: \"\",\n        invalidZipcode: true,\n      });\n    }\n  };\n\n  let alertValidation;\n  let locationResult;\n  let buttonClear;\n\n  if (invalidZipcode === true) {\n    alertValidation = (\n      <Alert className=\"alert alert__error\">Informe um CEP válido.</Alert>\n    );\n  }\n\n  if (Object.keys(location).length > 1) {\n    locationResult = <Location location={location} />;\n\n    buttonClear = (\n      <Button onClick={clearResults} className=\"btn btn__danger\">\n        Limpar resultados\n      </Button>\n    );\n  }\n\n  return (\n    <div>\n      <form {...props} onSubmit={onFormSubmit} className=\"form-zipcode inline\">\n        <Input\n          type=\"tel\"\n          value={zipcode}\n          onBlur={handleBlur}\n          onChange={(event) => updateZipcode({ zipcode: event.target.value })}\n          placeholder=\"Ex.: 99999999\"\n          maxLength=\"8\"\n          name=\"cep\"\n        />\n        <div className=\"form__group\">\n          <Button type=\"submit\" className=\"btn btn__success\">\n            Consultar\n          </Button>\n        </div>\n      </form>\n\n      {alertValidation}\n\n      {locationResult}\n      {buttonClear}\n    </div>\n  );\n};\n\nexport default Form;\n","import React from \"react\";\n\nimport { Map } from \"../../atoms\";\nimport { Form } from \"../../molecules\";\n\nconst AddressResults = () => {\n  return (\n    <div className=\"app\">\n      <Map height=\"200\" />\n\n      <h1>Buscar endereço pelo CEP</h1>\n\n      <Form />\n    </div>\n  );\n};\n\nexport default AddressResults;\n","import React from \"react\";\n\nimport { AddressResults } from \"./components/organisms\";\n\nconst App = () => <AddressResults />;\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}