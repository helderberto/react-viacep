{"version":3,"sources":["components/atoms/Map/map.svg","components/atoms/Alert/index.js","components/atoms/Button/index.js","components/atoms/Input/index.js","components/atoms/Map/index.js","components/molecules/Location/index.js","utils/zipcode.js","hooks/use-location.js","services/viacep/index.js","components/molecules/Form/index.js","components/organisms/AddressResults/index.js","App.js","index.js"],"names":["module","exports","AlertValidation","props","children","Button","defaultProps","type","CustomInput","className","this","Component","Map","src","MapSvg","alt","Location","Object","keys","location","map","key","index","toUpperCase","Zipcode","size","isValid","value","test","crop","start","end","substring","hasHyphen","hyphen","indexOf","mask","zipcodeStart","length","zipcodeEnd","maskedZipcode","ViaCep","cep","Error","url","BASE_URL","fetch","method","then","res","json","catch","err","console","error","Form","alertValidation","locationResult","buttonClear","useState","zipcode","setZipcode","setLocation","invalidZipcode","setStatusZipcode","useLocation","clearResults","handleBlur","updateLocation","updateZipcode","onClick","onSubmit","event","preventDefault","getByCep","response","onBlur","onChange","target","placeholder","maxLength","name","AddressResults","height","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c792312c.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/map.d68eef52.svg\";","import React from 'react';\nimport './index.css';\n\nconst AlertValidation = (props) => {\n  return (\n    <div {...props}>\n      {props.children}\n    </div>\n  )\n}\n\nexport default AlertValidation;","import React from 'react';\nimport './index.css';\n\nconst Button = (props) => {\n  return (\n    <button {...props}>\n      {props.children}\n    </button>\n  );\n}\n\nButton.defaultProps = {\n  type: 'button'\n};\n\nexport default Button;","import React, { Component } from 'react';\nimport './index.css'\n\nclass CustomInput extends Component {\n  render() {\n    return(\n      <div className=\"form__group\">\n        <input {...this.props} className=\"form__field\" />\n      </div>\n    );\n  }\n}\n\nCustomInput.defaultProps = {\n  type: 'text'\n};\n\nexport default CustomInput;","import React from \"react\";\nimport MapSvg from \"./map.svg\";\nimport \"./index.css\";\n\nconst Map = props => {\n  return (\n    <img\n      className=\"map__location\"\n      src={MapSvg}\n      alt=\"Mapa de localização\"\n      {...props}\n    />\n  );\n};\n\nexport default Map;\n","import React from 'react';\nimport './index.css';\n\nconst Location = (props) => {\n  return (\n    <div className=\"location\">\n      {Object.keys(props.location).map((key, index) => {\n        return <div className=\"location__item\" key={index}><strong>{key.toUpperCase()}:</strong>{props.location[key]}</div>\n      })}\n    </div>\n  )\n}\n\nexport default Location;","const ZIPCODE_SIZE = 8;\n\nexport default class Zipcode {\n  static size = ZIPCODE_SIZE;\n\n  static isValid = value => (/^[0-9]{8}$/.test(value));\n\n  static crop = (value, start, end) => {\n    return value.substring(start, end);\n  }\n\n  static hasHyphen = (value, hyphen = '-') => {\n    return (value.indexOf(hyphen) === -1 ? false : true);\n  }\n\n  static mask = (value, hyphen = '-') => {\n    const zipcodeStart = Zipcode.crop(value, 0, value.length-3);\n    const zipcodeEnd = Zipcode.crop(value, value.length-3, value.length);\n\n    let maskedZipcode = value;\n\n    if (!Zipcode.hasHyphen(value)) {\n      maskedZipcode = `${zipcodeStart}${hyphen}${zipcodeEnd}`;\n    }\n    return maskedZipcode;\n  }\n}\n","import { useState } from \"react\";\n\nimport Zipcode from 'utils/zipcode';\n\nexport default () => {\n  const [zipcode, setZipcode] = useState(\"\");\n  const [location, setLocation] = useState(\"\");\n  const [invalidZipcode, setStatusZipcode] = useState(false);\n\n  const clearResults = () => {\n    setLocation(\"\");\n    setZipcode(\"\");\n    setStatusZipcode(false);\n  };\n\n  const handleBlur = () => {\n    if (zipcode.length < Zipcode.size) {\n      setStatusZipcode(true);\n      return;\n    }\n\n    if (\n      zipcode.length >= Zipcode.size &&\n      !Zipcode.isValid(zipcode)\n    ) {\n      const maskedZipcode = Zipcode.mask(zipcode);\n      setZipcode(maskedZipcode);\n      setStatusZipcode(false);\n    }\n  };\n\n  const updateLocation = ({ location, invalidZipcode }) => {\n    setLocation(location);\n    setStatusZipcode(invalidZipcode);\n  };\n\n  const updateZipcode = ({ zipcode }) => setZipcode(zipcode);\n\n  return [\n    zipcode,\n    location,\n    invalidZipcode,\n    clearResults,\n    handleBlur,\n    updateLocation,\n    updateZipcode\n  ];\n};\n","import Zipcode from 'utils/zipcode';\n\nconst BASE_URL = cep => `https://viacep.com.br/ws/${cep}/json/`;\n\nclass ViaCep {\n  static getByCep(cep) {\n    if (!Zipcode.isValid(cep)) {\n      throw Error('CEP inválido!');\n    }\n\n    const url = BASE_URL(cep);\n\n    return fetch(url, {\n      method: 'GET'\n    })\n      .then(res => res.json())\n      .catch(err => {\n        console.error(err);\n        throw new Error('Não foi possível encontrar o endereço. Por favor, tente novamente utilizando outro CEP.');\n      });\n  }\n}\n\nexport default ViaCep;","import React from \"react\";\nimport useLocation from \"hooks/use-location\";\n\nimport { Input, Button, Alert } from \"components/atoms\";\nimport { Location } from \"components/molecules\";\n\nimport Zipcode from 'utils/zipcode';\n\nimport ViaCep from \"services/viacep\";\n\nimport \"./index.css\";\n\nconst Form = props => {\n  const [\n    zipcode,\n    location,\n    invalidZipcode,\n    clearResults,\n    handleBlur,\n    updateLocation,\n    updateZipcode\n  ] = useLocation();\n\n  const onFormSubmit = event => {\n    event.preventDefault();\n\n    if (Zipcode.isValid(zipcode)) {\n      ViaCep.getByCep(zipcode).then(response => {\n        if (Object.keys(response).length > 1) {\n          updateLocation({\n            location: response,\n            invalidZipcode: false\n          });\n          return;\n        }\n        updateLocation({\n          location: \"\",\n          invalidZipcode: true\n        });\n        return;\n      });\n    } else {\n      updateLocation({\n        location: \"\",\n        invalidZipcode: true\n      });\n    }\n  };\n\n  let alertValidation;\n  let locationResult;\n  let buttonClear;\n\n  if (invalidZipcode === true) {\n    alertValidation = (\n      <Alert className=\"alert alert__error\">Informe um CEP válido.</Alert>\n    );\n  }\n\n  if (Object.keys(location).length > 1) {\n    locationResult = <Location location={location} />;\n\n    buttonClear = (\n      <Button onClick={clearResults} className=\"btn btn__danger\">\n        Limpar resultados\n      </Button>\n    );\n  }\n\n  return (\n    <div>\n      <form {...props} onSubmit={onFormSubmit} className=\"form-zipcode inline\">\n        <Input\n          type=\"tel\"\n          value={zipcode}\n          onBlur={handleBlur}\n          onChange={event => updateZipcode({ zipcode: event.target.value })}\n          placeholder=\"Ex.: 99999999\"\n          maxLength=\"8\"\n          name=\"cep\"\n        />\n        <div className=\"form__group\">\n          <Button type=\"submit\" className=\"btn btn__success\">\n            Consultar\n          </Button>\n        </div>\n      </form>\n\n      {alertValidation}\n\n      {locationResult}\n      {buttonClear}\n    </div>\n  );\n};\n\nexport default Form;\n","import React from \"react\";\n\nimport { Map } from \"components/atoms\";\nimport { Form } from \"components/molecules\";\n\nconst AddressResults = () => {\n  return (\n    <div className=\"app\">\n      <Map height=\"200\" />\n\n      <h1>Buscar endereço pelo CEP</h1>\n\n      <Form />\n    </div>\n  );\n};\n\nexport default AddressResults;\n","import React from \"react\";\n\nimport { AddressResults } from \"components/organisms\";\n\nconst App = () => <AddressResults />;\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}