{"version":3,"sources":["components/atoms/Map/map.svg","components/atoms/Alert/index.js","components/atoms/Button/index.js","components/atoms/Input/index.js","components/atoms/Map/index.js","components/molecules/Location/index.js","services/viacep/index.js","components/molecules/Form/index.js","components/molecules/Form/useLocation.js","components/organisms/AddressResults/index.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","AlertValidation","props","react_default","a","createElement","children","Button","defaultProps","type","CustomInput","className","Object","assign","this","Component","Map","src","MapSvg","alt","Location","keys","location","map","key","index","toUpperCase","ViaCep","cep","urlViaCEP","createUrl","fetch","method","then","res","json","catch","err","console","error","Error","concat","isValidZipcode","zipcode","test","maskZipcode","hyphen","arguments","length","undefined","zipcodeStart","cropZipcode","zipcodeEnd","maskedZipcode","hasHyphen","indexOf","start","end","substring","Form","alertValidation","locationResult","buttonClear","_useLocation","_useState","useState","_useState2","slicedToArray","setZipcode","_useState3","_useState4","setLocation","_useState5","_useState6","useLocation","_useLocation2","invalidZipcode","setStatusZipcode","atoms_Alert","components_molecules_Location","components_atoms_Button","onClick","onSubmit","event","preventDefault","getByCep","response","atoms_Input","value","onBlur","onChange","target","placeholder","maxLength","name","AddressResults","components_atoms_Map","height","components_molecules_Form","App","organisms_AddressResults","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.bd67de58.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/map.d68eef52.svg\";","import React from 'react';\nimport './index.css';\n\nconst AlertValidation = (props) => {\n  return (\n    <div {...props}>\n      {props.children}\n    </div>\n  )\n}\n\nexport default AlertValidation;","import React from 'react';\nimport './index.css';\n\nconst Button = (props) => {\n  return (\n    <button {...props}>\n      {props.children}\n    </button>\n  );\n}\n\nButton.defaultProps = {\n  type: 'button'\n};\n\nexport default Button;","import React, { Component } from 'react';\nimport './index.css'\n\nclass CustomInput extends Component {\n  render() {\n    return(\n      <div className=\"form__group\">\n        <input {...this.props} className=\"form__field\" />\n      </div>\n    );\n  }\n}\n\nCustomInput.defaultProps = {\n  type: 'text'\n};\n\nexport default CustomInput;","import React from \"react\";\nimport MapSvg from \"./map.svg\";\nimport \"./index.css\";\n\nconst Map = props => {\n  return (\n    <img\n      className=\"map__location\"\n      src={MapSvg}\n      alt=\"Mapa de localização\"\n      {...props}\n    />\n  );\n};\n\nexport default Map;\n","import React from 'react';\nimport './index.css';\n\nconst Location = (props) => {\n  return (\n    <div className=\"location\">\n      {Object.keys(props.location).map((key, index) => {\n        return <div className=\"location__item\" key={index}><strong>{key.toUpperCase()}:</strong>{props.location[key]}</div>\n      })}\n    </div>\n  )\n}\n\nexport default Location;","class ViaCep {\n  static getByCep(cep) {\n    const urlViaCEP = ViaCep.createUrl(cep);\n\n    return fetch(urlViaCEP, {\n      method: 'GET'\n    })\n      .then(res => res.json())\n      .catch(err => {\n        console.error(err);\n        throw new Error('Não foi possível encontrar o endereço. Por favor, tente novamente utilizando outro CEP.');\n      });\n  }\n\n  static createUrl(cep) {\n    if (cep) {\n      return `https://viacep.com.br/ws/${cep}/json/`;\n    }\n    throw new Error('CEP deve ser informado!');\n  }\n\n  static isValidZipcode = (zipcode) => {\n    return (/^[0-9]{5}-[0-9]{3}$/.test(zipcode));\n  }\n\n  static maskZipcode = (zipcode, hyphen = '-') => {\n    const zipcodeStart = ViaCep.cropZipcode(zipcode, 0, zipcode.length-3);\n    const zipcodeEnd = ViaCep.cropZipcode(zipcode, zipcode.length-3, zipcode.length);\n    let maskedZipcode = zipcode;\n\n    if (!ViaCep.hasHyphen(zipcode)) {\n      maskedZipcode = `${zipcodeStart}${hyphen}${zipcodeEnd}`;\n    }\n    return maskedZipcode;\n  }\n\n  static hasHyphen = (zipcode, hyphen = '-') => {\n    return (zipcode.indexOf(hyphen) === -1 ? false : true);\n  }\n\n  static cropZipcode = (zipcode, start, end) => {\n    return zipcode.substring(start, end);\n  }\n}\n\nexport default ViaCep;","import React from \"react\";\nimport useLocation from \"./useLocation\";\n\nimport { Input, Button, Alert } from \"components/atoms\";\nimport { Location } from \"components/molecules\";\n\nimport ViaCep from \"services/viacep\";\n\nimport \"./index.css\";\n\nconst Form = props => {\n  const [\n    zipcode,\n    setZipcode,\n    location,\n    setLocation,\n    invalidZipcode,\n    setStatusZipcode\n  ] = useLocation();\n\n  const onFormSubmit = event => {\n    event.preventDefault();\n\n    if (ViaCep.isValidZipcode(zipcode)) {\n      ViaCep.getByCep(zipcode).then(response => {\n        if (Object.keys(response).length > 1) {\n          setLocation(response);\n          setStatusZipcode(false);\n          return;\n        }\n        setLocation(\"\");\n        setStatusZipcode(true);\n        return;\n      });\n    } else {\n      setLocation(\"\");\n      setStatusZipcode(true);\n    }\n  };\n\n  const handleClickClear = () => {\n    setLocation(\"\");\n    setZipcode(\"\");\n    setStatusZipcode(false);\n  };\n\n  const handleFieldBlur = () => {\n    if (zipcode && !ViaCep.isValidZipcode(zipcode)) {\n      const maskedZipcode = ViaCep.maskZipcode(zipcode);\n      setZipcode(maskedZipcode);\n    }\n  };\n\n  let alertValidation;\n  let locationResult;\n  let buttonClear;\n\n  if (invalidZipcode === true) {\n    alertValidation = (\n      <Alert className=\"alert alert__error\">Informe um CEP válido.</Alert>\n    );\n  }\n\n  if (Object.keys(location).length > 1) {\n    locationResult = <Location location={location} />;\n\n    buttonClear = (\n      <Button onClick={handleClickClear} className=\"btn btn__danger\">\n        Limpar resultados\n      </Button>\n    );\n  }\n\n  return (\n    <div>\n      <form {...props} onSubmit={onFormSubmit} className=\"form-zipcode inline\">\n        <Input\n          type=\"tel\"\n          value={zipcode}\n          onBlur={handleFieldBlur}\n          onChange={event => setZipcode(event.target.value)}\n          placeholder=\"Ex.: 99999-999\"\n          maxLength=\"9\"\n          name=\"cep\"\n        />\n        <div className=\"form__group\">\n          <Button type=\"submit\" className=\"btn btn__success\">\n            Consultar\n          </Button>\n        </div>\n      </form>\n\n      {alertValidation}\n\n      {locationResult}\n      {buttonClear}\n    </div>\n  );\n};\n\nexport default Form;\n","import { useState } from \"react\";\n\nexport default () => {\n  const [zipcode, setZipcode] = useState(\"\");\n  const [location, setLocation] = useState(\"\");\n  const [invalidZipcode, setStatusZipcode] = useState(false);\n\n  return [\n    zipcode,\n    setZipcode,\n    location,\n    setLocation,\n    invalidZipcode,\n    setStatusZipcode\n  ];\n};\n","import React from \"react\";\n\nimport { Map } from \"components/atoms\";\nimport { Form } from \"components/molecules\";\n\nconst AddressResults = () => {\n  return (\n    <div className=\"app\">\n      <Map height=\"200\" />\n\n      <h1>Buscar endereço pelo CEP</h1>\n\n      <Form />\n    </div>\n  );\n};\n\nexport default AddressResults;\n","import React from \"react\";\n\nimport { AddressResults } from \"components/organisms\";\n\nconst App = () => <AddressResults />;\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}